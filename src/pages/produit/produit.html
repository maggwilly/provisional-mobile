<ion-header no-border no-shadow >
  <ion-navbar>
        <ion-title><span *ngIf="!produit.nom">Créer un produit</span><span *ngIf="produit.nom">{{produit.nom}}</span></ion-title>
        <ion-buttons end>
                <button ion-button="ion-button" (click)="dismiss()" icon-left>
                    <ion-icon name="md-close" color="danger" showwhen="android,windows,core"></ion-icon> 
                    Fermer
                </button>
            </ion-buttons>        
  </ion-navbar>
</ion-header>
<ion-content >
        <ion-card>
                <ion-card-header text-wrap>Créer ou modifier un article</ion-card-header>
        </ion-card>     
    <form #form="ngForm" novalidate="novalidate">
        <ion-list>
            <ion-item>
                <ion-label color="primary" floating><span>Nom du produit </span> </ion-label>
                <ion-input [(ngModel)]="produit.nom" name="nom" type="text" placeholder="" #nom="ngModel"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label color="primary"><span>Prix de vente </span> </ion-label>
                <ion-input [(ngModel)]="produit.cout" name="cout" type="number" placeholder="" #nom="ngModel"></ion-input>
            </ion-item> 
            <ion-item>
                    <ion-label color="primary" >
                        <span>Unité de vente</span>
                    </ion-label>
                    <ion-select [(ngModel)]="produit.unite" name="unite" #type="ngModel"> 
                        <ion-option value="Unité">Unité</ion-option>
                        <ion-option value="Colis">Colis</ion-option>
                        <ion-option value="Carton">Carton</ion-option>
                        <ion-option value="Bouteille">Bouteille</ion-option>
                        <ion-option value="Palette">Palette</ion-option>
                        <ion-option value="Pack">Pack</ion-option>
                        <ion-option value="Paquet">Paquet</ion-option>
                        <ion-option value="Litre">Litre</ion-option>
                        <ion-option value="Kilograme">Kilograme</ion-option>
                        <ion-option value="Pièce">Pièce</ion-option>
                        <ion-option value="Boîte">Boîte</ion-option>
                    </ion-select>
                </ion-item>             
            <ion-item>
                    <ion-textarea rows="1" [(ngModel)]="produit.description" placeholder="Description du produit"
                        name="description" #description="ngModel"></ion-textarea>
            </ion-item> 
            <ion-item>
                    <ion-label>Activer les prévision</ion-label>
                    <ion-toggle item-right  [(ngModel)]="produit.control" name="control" #control="ngModel" color="secondary">
                    </ion-toggle>
            </ion-item>                                  
        </ion-list>
        <div padding="padding" >
            <button  *ngIf="produit.id" ion-button outline block icon-right color="danger" (click)="deleteItem()">
                    <span>Supprimer ce produit
                        <ion-icon name="close"></ion-icon>
                    </span>
               </button>              
        </div>
    </form>
</ion-content>
<ion-footer >
    <button  ion-button full icon-right [disabled]="isInvalid()" (click)="onSubmit()">
            <span *ngIf="!produit.id">Créer un produit</span>
            <span *ngIf="produit.id">Enregistrer les changements</span>
            <ion-icon name="md-done-all"></ion-icon> 
    </button>
  </ion-footer>